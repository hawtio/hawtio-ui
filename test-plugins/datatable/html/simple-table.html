<style>
  .status-running {
    color: blue
  }
  .status-failed {
    color: red
  }
</style>
<div ng-controller="DatatableTest.SimpleTableController">
  <div class="row-fluid">
    <div class="col-md-12">
      <h1>Simple Table</h1>
    </div>
    <div class="col-md-12">
      <p>
        Hawtio Simple Table component can be used to display, sort, filter, and select data from a JSON model, similarly to ng-grid or hawtio-datatable.
        This lets you create a regular table element with whatever metadata you like and the &lt;thead&gt; and &lt;tbody&gt; will be generated from the column definitions to render the table dynamically; using the same kind of JSON configuration.
        This means you can switch between ng-grid, hawtio-datatable and hawtio-simple-table based on your requirements and tradeoffs (layout versus performance versus dynamic, user configurable views etc).
      </p>
      <h4>Primary Key</h4>
      <p>
        The Simple Table uses a primary key to ensure that the rows can be kept selected when the underlying data changes due live updated.
        It looks for a property called <code>id</code>, <code>_id</code>, <code>_key</code>, or <code>name</code> in the data objects.
        If not found, it looks for a configuration property called <code>primaryKeyFn</code>, which specifies a function that returns the primary key.
        Example:
        <code>
          primaryKeyFn: (entity) => { return entity.group + "/" + entity.name }
        </code>
      </p>
      <h3>Configuration Properties</h3>
      <p>
        <table class="table">
          <thead>
            <tr><th>Name</th><th>Type</th><th>Default</th><th>Mandatory</th><th>Description</th></tr>
          </thead>
          <tbody>
            <tr><td>data</td><td>String</td><td></td><td>Yes</td><td>Name of $scope property referencing the array of data objects<./td></tr>
            <tr><td>selectedItems</td><td>Array</td><td></td><td>Yes</td><td>Array where the selected data objects shall be stored.</td></tr>
            <tr><td>columnDefs</td><td>Array</td><td></td><td>Yes</td><td>Array of column definitions. Each definition object has a <code>field</code>, <code>displayName</code>, <code>cellTemplate</code> (optional), and <code>customSortField</code> (optional).</td></tr>
            <tr><td>primaryKeyFn</td><td>Function</td><td></td><td>No</td><td>Function that takes a reference to each data object and returns its primary key.<code></></td></tr>
            <tr><td>showSelectionCheckbox</td><td>Boolean</td><td>true</td><td>No</td><td>Add a column with checkboxes for row selection.</td></tr>
            <tr><td>enableRowClickSelection</td><td>Boolean</td><td>false</td><td>No</td><td>Allow row selection by clicking on the row.</td></tr>
            <tr><td>multiSelect</td><td>Boolean</td><td>true</td><td>No</td><td>Allow the selection of multiple rows.</td></tr>
            <tr><td>sortInfo</td><td>Object</td><td></td><td>No</td><td>Object with <code>sortBy</code> and <code>ascending</code> properties used as the default table sorting.</td></tr>
            <tr><td>filterOptions</td><td>Object</td><td></td><td>No</td><td>Object with <code>filterText</code> property used as the default filter text (usually an empty text).</td></tr>
            <tr><td>maxBodyHeight</td><td>Number</td><td></td><td>No</td><td>Maximum height of the table body. A scrollbar is added to the table.</td></tr>
          </tbody>
        </table>
      </p>
    </div>
    <div class="col-md-12">
      <h2>Examples</h2>
    </div>
    <div class="col-md-12">
      <h3>1 - Table with highlight on hover and row selection on click</h3>
    </div>
    <div class="col-md-4">
      <h5>Example Markup</h5>
      <script type="text/ng-template" id="markup1.html"><table class="table table-hover" hawtio-simple-table="config1"></table></script>
      <div hawtio-editor="markup1" mode="html"></div>
      <h5>Example Model</h5>
      <div hawtio-editor="toJson(model1, true)" read-only="true" mode="javascript"></div>
    </div>
    <div class="col-md-4">
      <h5>Example Configuration</h5>
      <div hawtio-editor="toJson(config1, true)" read-only="true" mode="javascript"></div>
    </div>
    <div class="col-md-4">
      <h5>In Action</h5>
      <div class="directive-example">
        <div compile="markup1"></div>
      </div>
    </div>
    <div class="col-md-12">
      <h3>2 - Table with multiple row selection using checkboxes</h3>
    </div>
    <div class="col-md-4">
      <h5>Example Markup</h5>
      <script type="text/ng-template" id="markup2.html"><table class="table table-bordered" hawtio-simple-table="config2"></table></script>
      <div hawtio-editor="markup2" mode="html"></div>
      <h5>Example Model</h5>
      <div hawtio-editor="toJson(model2, true)" read-only="true" mode="javascript"></div>
    </div>
    <div class="col-md-4">
      <h5>Example Configuration</h5>
      <div hawtio-editor="toJson(config2, true)" read-only="true" mode="javascript"></div>
    </div>
    <div class="col-md-4">
      <h5>In Action</h5>
      <div class="directive-example">
        <div compile="markup2"></div>
      </div>
    </div>
    <div class="col-md-12">
      <h3>3 - Table with fixed height and search box</h3>
    </div>
    <div class="col-md-4">
      <h5>Example Markup</h5>
      <script type="text/ng-template" id="markup3.html"><table class="table table-bordered" hawtio-simple-table="config3"></table></script>
      <div hawtio-editor="markup3" mode="html"></div>
      <h5>Example Model</h5>
      <div hawtio-editor="toJson(model3, true)" read-only="true" mode="javascript"></div>
    </div>
    <div class="col-md-4">
      <h5>Example Configuration</h5>
      <div hawtio-editor="toJson(config3, true)" read-only="true" mode="javascript"></div>
    </div>
    <div class="col-md-4">
      <h5>In Action</h5>
      <div class="directive-example">
        <div>
          <input type="text" class="search-query" placeholder="Filter..." ng-model="config3.filterOptions.filterText">
          <i class="fa fa-remove clickable" title="Clear filter" ng-click="config3.filterOptions.filterText = ''"></i>
        </div>
        <div compile="markup3"></div>
      </div>
    </div>
  </div>
</div>
